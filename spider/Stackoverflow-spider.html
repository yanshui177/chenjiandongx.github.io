
<!DOCTYPE html>
<html lang="chinese (simplified)">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="http://chenjiandongx.com/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="http://chenjiandongx.com/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="http://chenjiandongx.com/theme/font-awesome/css/font-awesome.min.css">




    <link rel="shortcut icon" href="..\images\fav.ico" type="image/x-icon">
    <link rel="icon" href="..\images\fav.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<meta name="author" content="Chenjiandongx" />
<meta name="description" content="stackoverflow scrapy spider" />
<meta name="keywords" content="python">
<meta property="og:site_name" content="Chenjiandongx's Blog"/>
<meta property="og:title" content="爬取Stackoverflow100万条问答并简单分析"/>
<meta property="og:description" content="stackoverflow scrapy spider"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://chenjiandongx.com/spider/Stackoverflow-spider.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2017-03-29 00:23:00+08:00"/>
<meta property="article:modified_time" content="2017-04-17 23:50:00+08:00"/>
<meta property="article:author" content="http://chenjiandongx.com/author/chenjiandongx.html">
<meta property="article:section" content="Spider"/>
<meta property="article:tag" content="python"/>
<meta property="og:image" content="..\images\logo.png">

  <title>Chenjiandongx's Blog &ndash; 爬取Stackoverflow100万条问答并简单分析</title>

</head>
<body>
  <aside>
    <div>
      <a href="http://chenjiandongx.com">
        <img src="..\images\logo.png" alt="Chenjiandongx" title="Chenjiandongx">
      </a>
      <h1><a href="http://chenjiandongx.com">Chenjiandongx</a></h1>

<p>We're all witness</p>
      <nav>
        <ul class="list">

          <li><a href="https://www.google.com/search?hl=en&q=chenjiandongx" target="_blank">try to google me</a></li>
        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-github" href="https://github.com/chenjiandongx" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-google" href="https://plus.google.com/112828123196451313461" target="_blank"><i class="fa fa-google"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/chenjiandongx" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-facebook" href="https://www.facebook.com/chenjiandongx" target="_blank"><i class="fa fa-facebook"></i></a></li>
        <li><a class="sc-instagram" href="https://www.instagram.com/chenjiandongx/" target="_blank"><i class="fa fa-instagram"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="http://chenjiandongx.com">    Home
</a>

      <a href="../archives.html">Articles</a>
      <a href="../categories.html">Categories</a>
      <a href="../tags.html">Tags</a>


    </nav>

<article class="single">
  <header>
    <h1 id="Stackoverflow-spider">爬取Stackoverflow100万条问答并简单分析</h1>
    <p>
          Posted on 2017-03-29 00:23:00 in <a href="http://chenjiandongx.com/category/spider.html">Spider</a>


        &#8226; 2 min read
    </p>
  </header>


  <div>
    <p>作为一个热爱编程的大学生，怎么能不知道面向stackoverflow编程呢。</p>
<p>打开stackoverflow主页，在questions页面下选择按vote排序，爬取前20000页，每页将问题数量设置为50，共100W条，（实际上本来是想爬完1300W条的，但100W条后面问题基本上都只有1个或0个回答，那就选取前100W就好吧）  </p>
<h2>对爬取数据进行简单分析</h2>
<h3>降序排列了这100W条数据的votes数，生成折线图</h3>
<p><img alt="Votes折线图" src="http://oog4yfyu0.bkt.clouddn.com/votes_0.png"><br>
2k后的问题的votes数基本上就已经在400以下了，接着后面的就基本上是贴地飞行了<br>
votes数最多 : <a href="http://stackoverflow.com/questions/11227809/why-is-it-faster-to-process-a-sorted-array-than-an-unsorted-array">Why is it faster to process a sorted array than an unsorted array?</a></p>
<h3>votes数的连续分布情况</h3>
<p><img alt="votes甘特图" src="http://oog4yfyu0.bkt.clouddn.com/votes_1.png"><br>
可见最多的还是集中在1-2K之间,从6k开始基本上就断层了  </p>
<h3>降序排列了这100W条数据的answers数，生成折线图</h3>
<p><img alt="answers折线图" src="http://oog4yfyu0.bkt.clouddn.com/answers_0.png"><br>
很明显2k之后的answers数基本上就小于20条了<br>
answers数最多: <a href="http://stackoverflow.com/questions/184618/what-is-the-best-comment-in-source-code-you-have-ever-encountered">What is the best comment in source code you have ever encountered? [closed]</a>  </p>
<h3>answers数的连续分布情况</h3>
<p><img alt="answers甘特图" src="http://oog4yfyu0.bkt.clouddn.com/answers_1.png"><br>
150后也就断层了，实际上能达到这样的回答数极少  </p>
<h3>降序排列了这100W条数据的views数，生成折线图</h3>
<p><img alt="views折线图" src="http://oog4yfyu0.bkt.clouddn.com/views_0.png"><br>
最高达到了4.5m，10000以后的基本上就不足3000了<br>
views数最多: <a href="http://stackoverflow.com/questions/927358/how-to-undo-last-commits-in-git">How to undo last commit(s) in Git?</a></p>
<h3>views数的连续分布情况</h3>
<p><img alt="views甘特图" src="http://oog4yfyu0.bkt.clouddn.com/views_1.png"></p>
<h3>再看看votes，views，answers三者的散点图对应情况</h3>
<h4>votes - views</h4>
<p><img alt="votes-views散点图" src="http://oog4yfyu0.bkt.clouddn.com/views_votes.png">  </p>
<h4>votes - answers</h4>
<p><img alt="votes-answers散点图" src="http://oog4yfyu0.bkt.clouddn.com/answers_votes.png"></p>
<h4>views - answers</h4>
<p><img alt="views-answers散点图" src="http://oog4yfyu0.bkt.clouddn.com/view_answers.png">  </p>
<p>总的来说，这三者对应关系类似于一个金字塔。三个图基本上都是左下角靠近原点的区域被填满，也就是说绝对大部分的问题的votes，answers和views都是属于最下层的。高质量活跃的问题是处于金字塔顶端的。三者的最高数好像也没特别明显的对应关系，且三者的最高数都不是同一个问题。</p>
<p>根据所有问题的tags提取出总量前200的关键词（前50条如下），第1名是c#，python排在第5</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="s1">&#39;c#&#39;</span><span class="p">,</span> <span class="mi">94614</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;java&#39;</span><span class="p">,</span> <span class="mi">93244</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;javascript&#39;</span><span class="p">,</span> <span class="mi">76722</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;android&#39;</span><span class="p">,</span> <span class="mi">69321</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="mi">62502</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;c++&#39;</span><span class="p">,</span> <span class="mi">58173</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;php&#39;</span><span class="p">,</span> <span class="mi">42596</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;ios&#39;</span><span class="p">,</span> <span class="mi">37773</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">,</span> <span class="mi">37405</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;.net&#39;</span><span class="p">,</span> <span class="mi">36180</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;html&#39;</span><span class="p">,</span> <span class="mi">28536</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">,</span> <span class="mi">26174</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">24699</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;objective-c&#39;</span><span class="p">,</span> <span class="mi">23253</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;iphone&#39;</span><span class="p">,</span> <span class="mi">22171</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;ruby-on-rails&#39;</span><span class="p">,</span> <span class="mi">20143</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;sql&#39;</span><span class="p">,</span> <span class="mi">19171</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;asp.net&#39;</span><span class="p">,</span> <span class="mi">18060</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;mysql&#39;</span><span class="p">,</span> <span class="mi">17559</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;ruby&#39;</span><span class="p">,</span> <span class="mi">16397</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="mi">15670</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;git&#39;</span><span class="p">,</span> <span class="mi">13139</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;linux&#39;</span><span class="p">,</span> <span class="mi">13080</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;asp.net-mvc&#39;</span><span class="p">,</span> <span class="mi">12857</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;angularjs&#39;</span><span class="p">,</span> <span class="mi">12606</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;sql-server&#39;</span><span class="p">,</span> <span class="mi">12473</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;node.js&#39;</span><span class="p">,</span> <span class="mi">12212</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;django&#39;</span><span class="p">,</span> <span class="mi">11576</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;arrays&#39;</span><span class="p">,</span> <span class="mi">11006</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;algorithm&#39;</span><span class="p">,</span> <span class="mi">10959</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;wpf&#39;</span><span class="p">,</span> <span class="mi">10631</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;performance&#39;</span><span class="p">,</span> <span class="mi">10619</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;xcode&#39;</span><span class="p">,</span> <span class="mi">10613</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="mi">10426</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;windows&#39;</span><span class="p">,</span> <span class="mi">10132</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;eclipse&#39;</span><span class="p">,</span> <span class="mi">10117</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;scala&#39;</span><span class="p">,</span> <span class="mi">9942</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;regex&#39;</span><span class="p">,</span> <span class="mi">9685</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;multithreading&#39;</span><span class="p">,</span> <span class="mi">9601</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;json&#39;</span><span class="p">,</span> <span class="mi">9266</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;swift&#39;</span><span class="p">,</span> <span class="mi">8950</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;c++11&#39;</span><span class="p">,</span> <span class="mi">8939</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;haskell&#39;</span><span class="p">,</span> <span class="mi">8823</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;osx&#39;</span><span class="p">,</span> <span class="mi">8159</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;visual-studio&#39;</span><span class="p">,</span> <span class="mi">8140</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;html5&#39;</span><span class="p">,</span> <span class="mi">7627</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;database&#39;</span><span class="p">,</span> <span class="mi">7567</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;xml&#39;</span><span class="p">,</span> <span class="mi">7478</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;spring&#39;</span><span class="p">,</span> <span class="mi">7464</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;unit-testing&#39;</span><span class="p">,</span> <span class="mi">7253</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">,</span> <span class="mi">6825</span><span class="p">)</span>
</pre></div>


<h3>这样看好像不太直观，所以就把它根据词频生成了词云</h3>
<p><img alt="词云" src="http://oog4yfyu0.bkt.clouddn.com/word_cloud.jpg"></p>
<h2>因为是用python写的爬虫，所以重点来分析下Python类的问答</h2>
<h3>votes数前10</h3>
<ul>
<li>votes数</li>
<li>6162 : <a href="http://stackoverflow.com/questions/231767/what-does-the-yield-keyword-do-in-python">What does the “yield” keyword do in Python?</a></li>
<li>3529 : <a href="http://stackoverflow.com/questions/100003/what-is-a-metaclass-in-python">What is a metaclass in Python?</a></li>
<li>3098 : <a href="http://stackoverflow.com/questions/82831/how-do-i-check-whether-a-file-exists-using-python">How do I check whether a file exists using Python?</a></li>
<li>3035 : <a href="http://stackoverflow.com/questions/394809/does-python-have-a-ternary-conditional-operator">Does Python have a ternary conditional operator?</a></li>
<li>2620 : <a href="http://stackoverflow.com/questions/89228/calling-an-external-command-in-python">Calling an external command in Python</a></li>
<li>2605 : <a href="http://stackoverflow.com/questions/419163/what-does-if-name-main-do">What does if <strong>name</strong> == “<strong>main</strong>”: do?</a></li>
<li>2194 : <a href="http://stackoverflow.com/questions/38987/how-to-merge-two-python-dictionaries-in-a-single-expression">How to merge two Python dictionaries in a single expression?</a></li>
<li>2123 : <a href="http://stackoverflow.com/questions/613183/sort-a-python-dictionary-by-value">Sort a Python dictionary by value</a></li>
<li>2058 : <a href="http://stackoverflow.com/questions/739654/how-to-make-a-chain-of-function-decorators">How to make a chain of function decorators?</a></li>
<li>1984 : <a href="http://stackoverflow.com/questions/273192/how-to-check-if-a-directory-exists-and-create-it-if-necessary">How to check if a directory exists and create it if necessary?</a></li>
</ul>
<h3>answers数前10</h3>
<ul>
<li>answers数</li>
<li>191 : <a href="http://stackoverflow.com/questions/101268/hidden-features-of-python">Hidden features of Python [closed]</a></li>
<li>87 : <a href="http://stackoverflow.com/questions/3088/best-ways-to-teach-a-beginner-to-program">Best ways to teach a beginner to program? [closed]</a></li>
<li>55 : <a href="http://stackoverflow.com/questions/550632/favorite-django-tips-features">Favorite Django Tips &amp; Features?</a></li>
<li>50 : <a href="http://stackoverflow.com/questions/312443/how-do-you-split-a-list-into-evenly-sized-chunks">How do you split a list into evenly sized chunks?</a></li>
<li>44 : <a href="http://stackoverflow.com/questions/89228/calling-an-external-command-in-python">Calling an external command in Python</a></li>
<li>43 : <a href="http://stackoverflow.com/questions/36932/how-can-i-represent-an-enum-in-python">How can I represent an 'Enum' in Python?</a></li>
<li>38 : <a href="http://stackoverflow.com/questions/38987/how-to-merge-two-python-dictionaries-in-a-single-expression">How to merge two Python dictionaries in a single expressions</a></li>
<li>38 : <a href="http://stackoverflow.com/questions/166506/finding-local-ip-addresses-using-pythons-stdlib">Finding local IP addresses using Python's stdlib</a></li>
<li>37 : <a href="http://stackoverflow.com/questions/18686860/reverse-a-string-in-python-without-using-reversed-or-1">Reverse a string in python without using reversed or [::-1]</a></li>
<li>37 : <a href="http://stackoverflow.com/questions/82831/how-do-i-check-whether-a-file-exists-using-python">How do I check whether a file exists using Python?</a></li>
</ul>
<h3>views数前10</h3>
<ul>
<li>views数</li>
<li>2121621 : <a href="http://stackoverflow.com/questions/379906/parse-string-to-float-or-int">Parse String to Float or Int</a></li>
<li>1905938 : <a href="http://stackoverflow.com/questions/423379/using-global-variables-in-a-function-other-than-the-one-that-created-them">Using global variables in a function other than the one that created them</a></li>
<li>1888666 : <a href="http://stackoverflow.com/questions/82831/how-do-i-check-whether-a-file-exists-using-python">How do I check whether a file exists using Python?</a></li>
<li>1827126 : <a href="http://stackoverflow.com/questions/89228/calling-an-external-command-in-python">Calling an external command in Python</a></li>
<li>1699574 : <a href="http://stackoverflow.com/questions/961632/converting-integer-to-string-in-python">Converting integer to string in Python?</a></li>
<li>1686230 : <a href="http://stackoverflow.com/questions/3277503/how-do-i-read-a-file-line-by-line-into-a-list">How do I read a file line-by-line into a list?</a></li>
<li>1682307 : <a href="http://stackoverflow.com/questions/3294889/iterating-over-dictionaries-using-for-loops-in-python">Iterating over dictionaries using 'for' loops in Python</a></li>
<li>1569205 : <a href="http://stackoverflow.com/questions/1712227/how-to-get-the-size-of-a-list">How to get the size of a list</a></li>
<li>1554755 : <a href="http://stackoverflow.com/questions/4750806/how-do-i-install-pip-on-windows">How do I install pip on Windows?</a></li>
<li>1515505 : <a href="http://stackoverflow.com/questions/176918/finding-the-index-of-an-item-given-a-list-containing-it-in-python">Finding the index of an item given a list containing it in Python</a>  </li>
</ul>
<h3>三者的前十中有两个问题是完全重叠的，分别是</h3>
<ul>
<li><a href="http://stackoverflow.com/questions/82831/how-do-i-check-whether-a-file-exists-using-python">How do I check whether a file exists using Python?</a></li>
<li><a href="http://stackoverflow.com/questions/89228/calling-an-external-command-in-python">Calling an external command in Python</a></li>
</ul>
<h2>Github源码</h2>
<ul>
<li><a href="https://github.com/chenjiandongx/stackoverflow">爬取Stackoverflow100万条问答</a>  </li>
<li>欢迎star和folk</li>
</ul>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://chenjiandongx.com/tag/python.html">python</a>
    </p>
  </div>


    <div class="addthis_relatedposts_inline">


<div class="ds-thread" data-thread-key="Stackoverflow-spider" data-title="爬取Stackoverflow100万条问答并简单分析" data-url="http://chenjiandongx.com/spider/Stackoverflow-spider.html"></div>
<script type="text/javascript">

    var duoshuoQuery = {short_name:'chenjiandongx'};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
</article>

    <footer>
<p>&copy; Chenjiandongx 2017</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-97435336-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->



<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Chenjiandongx's Blog ",
  "url" : "http://chenjiandongx.com",
  "image": "..\images\logo.png",
  "description": "Keep thinking ,keep coding"
}
</script>

</body>
</html>